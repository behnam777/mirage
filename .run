// @ts-check
const { exec } = require('child_process'); 
require('dotenv').config();  
let Logger = require('./factory/logger');
let Database = require('./factory/dbConnection');
let Bundler = require('./factory/bundler');
let Server = require('./factory/server');
let Swagger = require('./factory/swagger');

Logger.start()
  .then(()=>{return Database.start()})
  .then(()=>{return Bundler.start()})
  .then(()=>{return Swagger.start()})
  .then(()=>{return Server.start()})
  .then(()=>{ 
    console.log('service is run');
  })  

/*exec('npm run build', (error, stdout, stderr) => {
    if (error) {
      console.error(`error: ${error.message}`);
      return;
    }
  
    if (stderr) {
      console.error(`stderr: ${stderr}`);
      return;
    }
  
    console.log(`stdout:\n${stdout}`);
}); */